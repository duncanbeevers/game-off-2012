class @Preloader
  constructor: (onProgress, onComplete) ->
    instance = @
    preloader = new createjs.PreloadJS()
    preloader.installPlugin(createjs.SoundJS)

    preloader.onProgress = (event) -> onProgress(event)
    preloader.onComplete = (event) -> onComplete(event)

    preloader.loadManifest(<%= assets_manifest_json %>)

    @_preloader = preloader

  getResult: (src) ->
    @_preloader.getResult(src)
